{% extends "base.html" %}
{% block content %}
<h1>Start a Workout</h1>

<!-- Add Folder Form -->
<h2>Create a New Folder</h2>
<form action="{{ url_for('create_folder') }}" method="post">
  <input type="text" name="name" placeholder="Folder Name" required>
  <button type="submit">Create Folder</button>
</form>

<hr>

<!-- Display Existing Folders and Templates -->
<h2>Your Folders</h2>
{% if folders %}
  {% for folder in folders %}
    <h3>{{ folder.name }}</h3>
    <ul>
      {% for template in folder.templates %}
        <li>
          {{ template.name }} 
          <form action="{{ url_for('start_workout', template_id=template.id) }}" method="post" style="display:inline;">
            <button type="submit">Start This Workout</button>
          </form>
          | <a href="{{ url_for('edit_template', template_id=template.id) }}">Edit Template</a>
        </li>
      {% endfor %}
    </ul>
  {% endfor %}
{% else %}
  <p>No folders found. Create one above.</p>
{% endif %}

<hr>

<!-- You can also add a form to create a new template if desired -->
<!-- For simplicity, let's just link to a page for that -->
<p><a href="{{ url_for('dashboard') }}">Back to Dashboard</a></p>

{% endblock %}